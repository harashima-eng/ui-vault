<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sticky Header Navigation</title>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}

:root{
  --bg: oklch(0.13 0.015 260);
  --surface: oklch(0.17 0.02 260);
  --surface-2: oklch(0.21 0.025 260);
  --accent: oklch(0.65 0.19 145);
  --accent-hover: oklch(0.58 0.19 145);
  --text: oklch(0.95 0.005 260);
  --text-secondary: oklch(0.60 0.02 260);
  --border: oklch(0.30 0.015 260);
  --radius: 12px;
  --radius-sm: 6px;
  --font: 'DM Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
}

body{
  font-family:var(--font);
  background:var(--bg);
  color:var(--text);
  -webkit-font-smoothing:antialiased;
  overflow-x:hidden;
  line-height:1.5;
}

a{color:inherit;text-decoration:none}

/* ── Skip Link ── */
.skip-link{
  position:absolute;top:-100%;left:50%;transform:translateX(-50%);
  padding:8px 20px;background:var(--accent);color:var(--bg);
  border-radius:0 0 var(--radius-sm) var(--radius-sm);
  font-weight:600;font-size:14px;z-index:9999;
}
.skip-link:focus-visible{top:0;outline:none}

/* ── Header ── */
.header{
  position:fixed;top:0;left:0;right:0;z-index:500;
  display:flex;align-items:center;justify-content:space-between;
  padding:20px 32px;
  background:transparent;
  will-change:transform;
}
.header-bg{
  position:absolute;inset:0;
  background:oklch(0.13 0.015 260 / 0.98);
  border-bottom:1px solid oklch(0.30 0.015 260 / 0);
  opacity:0;
  pointer-events:none;
}

.logo{font-size:18px;font-weight:700;letter-spacing:-0.02em;flex-shrink:0;position:relative;z-index:1}
.logo-mark{color:var(--accent)}

.nav-links{
  display:flex;gap:4px;position:relative;z-index:1;
}
.nav-link{
  position:relative;
  padding:8px 16px;
  font-size:14px;font-weight:500;
  color:var(--text-secondary);
  background:none;border:none;cursor:pointer;
  font-family:var(--font);
  border-radius:var(--radius-sm);
}
.nav-link:focus-visible{outline:2px solid var(--accent);outline-offset:2px}
.nav-link[data-active="true"]{color:var(--text);font-weight:600}

.nav-indicator{
  position:absolute;bottom:0;left:0;
  height:2px;background:var(--accent);
  border-radius:1px;
  pointer-events:none;
}

.header-cta{
  position:relative;z-index:1;
  padding:10px 22px;
  background:var(--accent);
  color:oklch(0.13 0.015 260);
  border:none;border-radius:var(--radius-sm);
  font-family:var(--font);font-size:14px;font-weight:600;
  cursor:pointer;
  flex-shrink:0;
}
.header-cta:focus-visible{outline:2px solid var(--accent);outline-offset:3px}

/* ── Mobile Menu ── */
.hamburger{
  display:none;position:relative;z-index:1;
  width:40px;height:40px;
  background:none;border:none;cursor:pointer;
  flex-shrink:0;
}
.hamburger:focus-visible{outline:2px solid var(--accent);outline-offset:2px}
.hamburger span{
  display:block;width:20px;height:2px;
  background:var(--text);
  border-radius:1px;
  position:absolute;left:10px;
}
.hamburger span:nth-child(1){top:12px}
.hamburger span:nth-child(2){top:19px}
.hamburger span:nth-child(3){top:26px}

.mobile-overlay{
  position:fixed;inset:0;z-index:490;
  background:oklch(0 0 0 / 0.6);
  opacity:0;pointer-events:none;
}
.mobile-menu{
  position:fixed;top:0;left:0;right:0;z-index:495;
  background:var(--surface);
  padding:80px 24px 32px;
  display:flex;flex-direction:column;gap:4px;
  transform:translateY(-100%);
  border-bottom:1px solid var(--border);
}
.mobile-link{
  display:block;padding:14px 16px;
  font-size:16px;font-weight:500;
  color:var(--text-secondary);
  background:none;border:none;
  font-family:var(--font);cursor:pointer;
  border-radius:var(--radius-sm);
  text-align:left;width:100%;
}
.mobile-link:focus-visible{outline:2px solid var(--accent);outline-offset:-2px}
.mobile-link[data-active="true"]{color:var(--accent);font-weight:600;background:oklch(0.65 0.19 145 / 0.08)}
.mobile-cta{
  margin-top:12px;padding:14px;
  background:var(--accent);color:var(--bg);
  border:none;border-radius:var(--radius-sm);
  font-family:var(--font);font-size:15px;font-weight:600;
  cursor:pointer;text-align:center;width:100%;
}
.mobile-cta:focus-visible{outline:2px solid var(--accent);outline-offset:3px}

@media(max-width:768px){
  .nav-links,.header-cta{display:none}
  .hamburger{display:flex;align-items:center;justify-content:center}
  .header{padding:16px 20px}
}

/* ── Dot Grid Background ── */
.dot-bg{
  position:fixed;inset:0;z-index:0;
  background:
    radial-gradient(circle at 25% 15%, oklch(0.25 0.04 280 / 0.3) 0%, transparent 50%),
    radial-gradient(circle at 80% 60%, oklch(0.20 0.04 145 / 0.15) 0%, transparent 50%),
    radial-gradient(circle, oklch(0.25 0.015 260) 1px, transparent 1px);
  background-size:100% 100%, 100% 100%, 22px 22px;
  pointer-events:none;
}

/* ── Page Sections ── */
.section{position:relative;z-index:1;padding:100px 24px}
.section-inner{max-width:1100px;margin:0 auto}

/* Hero */
.hero{
  min-height:100dvh;display:flex;align-items:center;justify-content:center;
  text-align:center;padding-top:120px;padding-bottom:80px;
}
.hero-badge{
  display:inline-flex;align-items:center;gap:8px;
  padding:6px 16px;border-radius:999px;
  background:var(--surface-2);border:1px solid var(--border);
  font-size:13px;font-weight:500;color:var(--text-secondary);
  margin-bottom:24px;
}
.hero-dot{width:6px;height:6px;border-radius:50%;background:var(--accent)}
.hero h1{
  font-size:clamp(2.5rem,5.5vw + 0.5rem,4.5rem);
  font-weight:800;line-height:1.08;letter-spacing:-0.03em;
  text-wrap:balance;max-width:16ch;margin:0 auto 20px;
}
.hero-accent{
  background:linear-gradient(135deg, var(--accent), oklch(0.72 0.16 180));
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;
  background-clip:text;
}
.hero p{
  font-size:clamp(1rem,1.2vw + 0.3rem,1.2rem);
  color:var(--text-secondary);line-height:1.65;
  max-width:52ch;margin:0 auto 36px;text-wrap:pretty;
}
.hero-actions{display:flex;gap:12px;justify-content:center;flex-wrap:wrap}
.btn-primary{
  padding:14px 28px;background:var(--accent);color:var(--bg);
  border:none;border-radius:var(--radius-sm);font-family:var(--font);
  font-size:15px;font-weight:600;cursor:pointer;
  display:inline-flex;align-items:center;gap:8px;
}
.btn-primary:focus-visible{outline:2px solid var(--accent);outline-offset:3px}
.btn-primary svg{width:16px;height:16px}
.btn-ghost{
  padding:14px 28px;background:transparent;color:var(--text);
  border:1px solid var(--border);border-radius:var(--radius-sm);
  font-family:var(--font);font-size:15px;font-weight:500;cursor:pointer;
}
.btn-ghost:focus-visible{outline:2px solid var(--accent);outline-offset:3px}

/* Section Headers */
.section-tag{
  display:inline-block;font-size:12px;font-weight:600;
  letter-spacing:0.08em;text-transform:uppercase;
  color:var(--accent);margin-bottom:12px;
}
.section h2{
  font-size:clamp(1.75rem,3vw + 0.25rem,2.75rem);
  font-weight:800;line-height:1.12;letter-spacing:-0.025em;
  text-wrap:balance;margin-bottom:16px;
}
.section-desc{
  font-size:clamp(0.95rem,1vw + 0.2rem,1.1rem);
  color:var(--text-secondary);line-height:1.6;
  max-width:55ch;text-wrap:pretty;
}

/* Features Grid */
.features-grid{
  display:grid;grid-template-columns:repeat(auto-fill,minmax(min(100%,300px),1fr));
  gap:20px;margin-top:48px;
}
.feature-card{
  padding:28px;background:var(--surface);
  border:1px solid var(--border);border-radius:var(--radius);
}
.feature-icon{
  width:40px;height:40px;display:flex;align-items:center;justify-content:center;
  background:oklch(0.65 0.19 145 / 0.1);border-radius:var(--radius-sm);
  margin-bottom:16px;
}
.feature-icon svg{width:20px;height:20px;stroke:var(--accent);fill:none;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round}
.feature-card h3{font-size:17px;font-weight:700;margin-bottom:8px}
.feature-card p{font-size:14px;color:var(--text-secondary);line-height:1.55}

/* Pricing */
.pricing-grid{
  display:grid;grid-template-columns:repeat(auto-fill,minmax(min(100%,280px),1fr));
  gap:20px;margin-top:48px;
}
.pricing-card{
  padding:32px 28px;background:var(--surface);
  border:1px solid var(--border);border-radius:var(--radius);
  display:flex;flex-direction:column;
}
.pricing-card.featured{
  border-color:var(--accent);
  background:linear-gradient(180deg, oklch(0.20 0.03 145 / 0.15), var(--surface));
  position:relative;
}
.pricing-badge{
  position:absolute;top:-12px;left:50%;transform:translateX(-50%);
  padding:4px 14px;background:var(--accent);color:var(--bg);
  font-size:11px;font-weight:700;letter-spacing:0.04em;
  text-transform:uppercase;border-radius:999px;
}
.pricing-tier{font-size:14px;font-weight:600;color:var(--text-secondary);margin-bottom:8px}
.pricing-price{font-size:42px;font-weight:800;letter-spacing:-0.03em;line-height:1}
.pricing-price span{font-size:15px;font-weight:500;color:var(--text-secondary)}
.pricing-desc{font-size:14px;color:var(--text-secondary);margin:12px 0 24px;line-height:1.5}
.pricing-features{list-style:none;display:flex;flex-direction:column;gap:10px;margin-bottom:28px;flex:1}
.pricing-features li{
  font-size:14px;color:var(--text-secondary);
  display:flex;align-items:center;gap:10px;
}
.pricing-features li svg{width:16px;height:16px;stroke:var(--accent);fill:none;stroke-width:2;stroke-linecap:round;flex-shrink:0}
.pricing-btn{
  padding:12px;background:var(--surface-2);color:var(--text);
  border:1px solid var(--border);border-radius:var(--radius-sm);
  font-family:var(--font);font-size:14px;font-weight:600;
  cursor:pointer;text-align:center;width:100%;
}
.pricing-btn:focus-visible{outline:2px solid var(--accent);outline-offset:2px}
.pricing-card.featured .pricing-btn{background:var(--accent);color:var(--bg);border-color:var(--accent)}

/* Contact */
.contact-grid{display:grid;grid-template-columns:1fr 1fr;gap:48px;margin-top:48px;align-items:start}
@media(max-width:768px){.contact-grid{grid-template-columns:1fr;gap:32px}}
.contact-info{display:flex;flex-direction:column;gap:20px}
.contact-item{display:flex;gap:14px}
.contact-icon{
  width:40px;height:40px;flex-shrink:0;
  display:flex;align-items:center;justify-content:center;
  background:var(--surface-2);border-radius:var(--radius-sm);
}
.contact-icon svg{width:18px;height:18px;stroke:var(--accent);fill:none;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round}
.contact-label{font-size:13px;color:var(--text-secondary);margin-bottom:2px}
.contact-value{font-size:15px;font-weight:600}
.contact-form{display:flex;flex-direction:column;gap:16px}
.form-row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
@media(max-width:480px){.form-row{grid-template-columns:1fr}}
.form-field{display:flex;flex-direction:column;gap:6px}
.form-field label{font-size:13px;font-weight:600;color:var(--text-secondary)}
.form-field input,.form-field textarea{
  padding:10px 14px;background:var(--surface);
  border:1px solid var(--border);border-radius:var(--radius-sm);
  color:var(--text);font-family:var(--font);font-size:14px;
  outline:none;
}
.form-field input:focus-visible,.form-field textarea:focus-visible{
  outline:2px solid var(--accent);outline-offset:-1px;
}
.form-field textarea{min-height:100px;resize:vertical}
.form-submit{
  padding:12px;background:var(--accent);color:var(--bg);
  border:none;border-radius:var(--radius-sm);
  font-family:var(--font);font-size:14px;font-weight:600;cursor:pointer;
}
.form-submit:focus-visible{outline:2px solid var(--accent);outline-offset:3px}

/* Footer */
.footer{
  position:relative;z-index:1;
  padding:40px 24px;text-align:center;
  border-top:1px solid var(--border);
  font-size:13px;color:var(--text-secondary);
}

/* Scroll reveal initial state */
.reveal{opacity:0;transform:translateY(40px)}
</style>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>

<a href="#main-content" class="skip-link">Skip to content</a>
<div class="dot-bg" aria-hidden="true"></div>

<!-- Header -->
<header class="header" id="header" role="banner">
  <div class="header-bg" aria-hidden="true"></div>
  <div class="logo"><span class="logo-mark">&bull;</span> Vertex</div>
  <nav class="nav-links" role="navigation" aria-label="Main navigation">
    <button class="nav-link" data-active="true" data-section="hero">Home</button>
    <button class="nav-link" data-section="features">Features</button>
    <button class="nav-link" data-section="pricing">Pricing</button>
    <button class="nav-link" data-section="about">About</button>
    <button class="nav-link" data-section="contact">Contact</button>
    <div class="nav-indicator" aria-hidden="true"></div>
  </nav>
  <button class="header-cta">Get Started</button>
  <button class="hamburger" id="hamburger" aria-label="Open menu" aria-expanded="false">
    <span></span><span></span><span></span>
  </button>
</header>

<!-- Mobile Menu -->
<div class="mobile-overlay" id="mobile-overlay" aria-hidden="true"></div>
<div class="mobile-menu" id="mobile-menu" role="dialog" aria-label="Mobile navigation">
  <button class="mobile-link" data-active="true" data-section="hero">Home</button>
  <button class="mobile-link" data-section="features">Features</button>
  <button class="mobile-link" data-section="pricing">Pricing</button>
  <button class="mobile-link" data-section="about">About</button>
  <button class="mobile-link" data-section="contact">Contact</button>
  <button class="mobile-cta">Get Started</button>
</div>

<main id="main-content">

<!-- Hero -->
<section class="section hero" id="hero">
  <div class="section-inner">
    <div class="hero-badge reveal"><span class="hero-dot" aria-hidden="true"></span>Now in Public Beta</div>
    <h1 class="reveal">Build faster with <span class="hero-accent">Vertex</span></h1>
    <p class="reveal">The modern platform for teams who ship. Streamline your workflow, automate the tedious parts, and focus on what matters.</p>
    <div class="hero-actions reveal">
      <button class="btn-primary">
        Start free trial
        <svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M3 8h10M9 4l4 4-4 4"/></svg>
      </button>
      <button class="btn-ghost">View demo</button>
    </div>
  </div>
</section>

<!-- Features -->
<section class="section" id="features">
  <div class="section-inner">
    <span class="section-tag reveal">Features</span>
    <h2 class="reveal">Everything you need, nothing you don't</h2>
    <p class="section-desc reveal">Purpose-built tools that integrate seamlessly into your existing workflow without the bloat.</p>
    <div class="features-grid">
      <div class="feature-card reveal">
        <div class="feature-icon"><svg viewBox="0 0 20 20"><path d="M10 2L2 7l8 5 8-5-8-5z"/><path d="M2 13l8 5 8-5"/></svg></div>
        <h3>Smart Workflows</h3>
        <p>Automate repetitive tasks with intelligent triggers and conditional logic. Set it once and let it run.</p>
      </div>
      <div class="feature-card reveal">
        <div class="feature-icon"><svg viewBox="0 0 20 20"><rect x="2" y="3" width="16" height="14" rx="2"/><path d="M2 8h16"/></svg></div>
        <h3>Real-time Dashboard</h3>
        <p>See everything happening across your projects in one unified view with live updates and alerts.</p>
      </div>
      <div class="feature-card reveal">
        <div class="feature-icon"><svg viewBox="0 0 20 20"><circle cx="10" cy="10" r="7"/><path d="M10 6v4l3 2"/></svg></div>
        <h3>Instant Deployments</h3>
        <p>Go from commit to production in under 30 seconds with zero-config CI/CD built right in.</p>
      </div>
    </div>
  </div>
</section>

<!-- Pricing -->
<section class="section" id="pricing">
  <div class="section-inner" style="text-align:center">
    <span class="section-tag reveal">Pricing</span>
    <h2 class="reveal">Simple, transparent pricing</h2>
    <p class="section-desc reveal" style="margin-left:auto;margin-right:auto">No hidden fees. No surprises. Start free and scale as you grow.</p>
    <div class="pricing-grid">
      <div class="pricing-card reveal">
        <div class="pricing-tier">Starter</div>
        <div class="pricing-price">$0 <span>/month</span></div>
        <p class="pricing-desc">For individuals and small side projects.</p>
        <ul class="pricing-features">
          <li><svg viewBox="0 0 16 16"><polyline points="3 8 6 11 13 4"/></svg>Up to 3 projects</li>
          <li><svg viewBox="0 0 16 16"><polyline points="3 8 6 11 13 4"/></svg>1 GB storage</li>
          <li><svg viewBox="0 0 16 16"><polyline points="3 8 6 11 13 4"/></svg>Community support</li>
        </ul>
        <button class="pricing-btn">Get started</button>
      </div>
      <div class="pricing-card featured reveal">
        <span class="pricing-badge">Popular</span>
        <div class="pricing-tier">Pro</div>
        <div class="pricing-price">$29 <span>/month</span></div>
        <p class="pricing-desc">For growing teams that need more power.</p>
        <ul class="pricing-features">
          <li><svg viewBox="0 0 16 16"><polyline points="3 8 6 11 13 4"/></svg>Unlimited projects</li>
          <li><svg viewBox="0 0 16 16"><polyline points="3 8 6 11 13 4"/></svg>100 GB storage</li>
          <li><svg viewBox="0 0 16 16"><polyline points="3 8 6 11 13 4"/></svg>Priority support</li>
          <li><svg viewBox="0 0 16 16"><polyline points="3 8 6 11 13 4"/></svg>Advanced analytics</li>
        </ul>
        <button class="pricing-btn">Start free trial</button>
      </div>
      <div class="pricing-card reveal">
        <div class="pricing-tier">Enterprise</div>
        <div class="pricing-price">$99 <span>/month</span></div>
        <p class="pricing-desc">For large organizations with custom needs.</p>
        <ul class="pricing-features">
          <li><svg viewBox="0 0 16 16"><polyline points="3 8 6 11 13 4"/></svg>Everything in Pro</li>
          <li><svg viewBox="0 0 16 16"><polyline points="3 8 6 11 13 4"/></svg>Unlimited storage</li>
          <li><svg viewBox="0 0 16 16"><polyline points="3 8 6 11 13 4"/></svg>Dedicated support</li>
          <li><svg viewBox="0 0 16 16"><polyline points="3 8 6 11 13 4"/></svg>Custom integrations</li>
          <li><svg viewBox="0 0 16 16"><polyline points="3 8 6 11 13 4"/></svg>SSO & audit logs</li>
        </ul>
        <button class="pricing-btn">Contact sales</button>
      </div>
    </div>
  </div>
</section>

<!-- About -->
<section class="section" id="about">
  <div class="section-inner">
    <span class="section-tag reveal">About</span>
    <h2 class="reveal">Built by makers, for makers</h2>
    <p class="section-desc reveal">We started Vertex because we were tired of tools that got in the way. Our team of engineers and designers obsess over developer experience so you can obsess over your product.</p>
    <div class="features-grid" style="margin-top:40px">
      <div class="feature-card reveal" style="text-align:center">
        <div style="font-size:36px;font-weight:800;letter-spacing:-0.03em;color:var(--accent);margin-bottom:4px">12K+</div>
        <p style="font-size:14px;color:var(--text-secondary)">Active teams worldwide</p>
      </div>
      <div class="feature-card reveal" style="text-align:center">
        <div style="font-size:36px;font-weight:800;letter-spacing:-0.03em;color:var(--accent);margin-bottom:4px">99.9%</div>
        <p style="font-size:14px;color:var(--text-secondary)">Uptime guarantee</p>
      </div>
      <div class="feature-card reveal" style="text-align:center">
        <div style="font-size:36px;font-weight:800;letter-spacing:-0.03em;color:var(--accent);margin-bottom:4px">&lt;2s</div>
        <p style="font-size:14px;color:var(--text-secondary)">Average deploy time</p>
      </div>
    </div>
  </div>
</section>

<!-- Contact -->
<section class="section" id="contact">
  <div class="section-inner">
    <span class="section-tag reveal">Contact</span>
    <h2 class="reveal">Let's talk</h2>
    <p class="section-desc reveal">Have questions or want a custom demo? Reach out and we'll get back to you within a day.</p>
    <div class="contact-grid">
      <div class="contact-info reveal">
        <div class="contact-item">
          <div class="contact-icon"><svg viewBox="0 0 20 20"><path d="M3 5h14a2 2 0 012 2v8a2 2 0 01-2 2H3a2 2 0 01-2-2V7a2 2 0 012-2z"/><path d="M1 5l9 6 9-6"/></svg></div>
          <div><div class="contact-label">Email</div><div class="contact-value">hello@vertex.io</div></div>
        </div>
        <div class="contact-item">
          <div class="contact-icon"><svg viewBox="0 0 20 20"><path d="M10 18a8 8 0 100-16 8 8 0 000 16z"/><path d="M10 2a14.5 14.5 0 014 8 14.5 14.5 0 01-4 8 14.5 14.5 0 01-4-8 14.5 14.5 0 014-8z"/><path d="M2 10h16"/></svg></div>
          <div><div class="contact-label">Location</div><div class="contact-value">San Francisco, CA</div></div>
        </div>
        <div class="contact-item">
          <div class="contact-icon"><svg viewBox="0 0 20 20"><path d="M17 10.5V6a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2h5.5"/><circle cx="15" cy="15" r="3"/><path d="M15 13.5v1.5l1 1"/></svg></div>
          <div><div class="contact-label">Hours</div><div class="contact-value">Mon-Fri, 9am-6pm PST</div></div>
        </div>
      </div>
      <form class="contact-form reveal" onsubmit="event.preventDefault()">
        <div class="form-row">
          <div class="form-field"><label for="cf-name">Name</label><input type="text" id="cf-name" placeholder="Your name"></div>
          <div class="form-field"><label for="cf-email">Email</label><input type="email" id="cf-email" placeholder="you@example.com"></div>
        </div>
        <div class="form-field"><label for="cf-msg">Message</label><textarea id="cf-msg" placeholder="How can we help?"></textarea></div>
        <button type="submit" class="form-submit">Send message</button>
      </form>
    </div>
  </div>
</section>

</main>

<footer class="footer">&copy; 2026 Vertex Inc. All rights reserved.</footer>

<!-- GSAP -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/Flip.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/TextPlugin.min.js"></script>
<script src="../animations/gsap-utils.js"></script>
<script>
gsap.registerPlugin(ScrollTrigger, Flip, TextPlugin);

(function () {
  'use strict';

  var reduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

  var header = document.getElementById('header');
  var headerBg = header.querySelector('.header-bg');
  var navLinks = Array.from(document.querySelectorAll('.nav-link'));
  var indicator = document.querySelector('.nav-indicator');
  var mobileLinks = Array.from(document.querySelectorAll('.mobile-link'));
  var hamburger = document.getElementById('hamburger');
  var mobileMenu = document.getElementById('mobile-menu');
  var mobileOverlay = document.getElementById('mobile-overlay');

  /* ── Active link indicator ── */
  function positionIndicator(el, animate) {
    var parent = el.parentElement;
    var parentRect = parent.getBoundingClientRect();
    var elRect = el.getBoundingClientRect();
    var props = {
      x: elRect.left - parentRect.left,
      width: elRect.width,
      opacity: 1,
    };
    if (animate && !reduced) {
      gsap.to(indicator, { ...props, duration: 0.3, ease: 'power2.inOut' });
    } else {
      gsap.set(indicator, props);
    }
  }

  function setActiveLink(section) {
    navLinks.forEach(function (l) { l.setAttribute('data-active', 'false'); });
    mobileLinks.forEach(function (l) { l.setAttribute('data-active', 'false'); });
    var target = navLinks.find(function (l) { return l.dataset.section === section; });
    var mTarget = mobileLinks.find(function (l) { return l.dataset.section === section; });
    if (target) {
      target.setAttribute('data-active', 'true');
      positionIndicator(target, true);
      if (!reduced) {
        navLinks.forEach(function (l) {
          gsap.to(l, {
            color: l === target
              ? getComputedStyle(document.documentElement).getPropertyValue('--text').trim()
              : getComputedStyle(document.documentElement).getPropertyValue('--text-secondary').trim(),
            fontWeight: l === target ? 600 : 500,
            duration: 0.2, ease: 'power2.out',
          });
        });
      }
    }
    if (mTarget) mTarget.setAttribute('data-active', 'true');
  }

  /* Init indicator */
  var activeLink = document.querySelector('.nav-link[data-active="true"]');
  if (activeLink) positionIndicator(activeLink, false);

  /* Click nav links */
  navLinks.forEach(function (link) {
    link.addEventListener('click', function () {
      setActiveLink(link.dataset.section);
      var target = document.getElementById(link.dataset.section);
      if (target) target.scrollIntoView({ behavior: reduced ? 'auto' : 'smooth' });
    });
  });

  mobileLinks.forEach(function (link) {
    link.addEventListener('click', function () {
      setActiveLink(link.dataset.section);
      closeMobile();
      var target = document.getElementById(link.dataset.section);
      if (target) setTimeout(function () { target.scrollIntoView({ behavior: reduced ? 'auto' : 'smooth' }); }, 350);
    });
  });

  /* ── Scroll-based section tracking ── */
  var sections = ['hero', 'features', 'pricing', 'about', 'contact'];
  sections.forEach(function (id) {
    ScrollTrigger.create({
      trigger: '#' + id,
      start: 'top 40%',
      end: 'bottom 40%',
      onEnter: function () { setActiveLink(id); },
      onEnterBack: function () { setActiveLink(id); },
    });
  });

  /* ── Sticky header: scroll behavior ── */
  var lastScroll = 0;
  var headerHidden = false;
  var scrolledPast = false;
  var scrollThreshold = 100;
  var sensitivity = 5; /* pixels before triggering show/hide */

  ScrollTrigger.create({
    start: 0,
    end: 'max',
    onUpdate: function (self) {
      var scrollY = self.scroll();
      var direction = self.direction; /* 1 = down, -1 = up */
      var delta = Math.abs(scrollY - lastScroll);

      /* Compact header after threshold */
      if (scrollY > scrollThreshold && !scrolledPast) {
        scrolledPast = true;
        if (!reduced) {
          gsap.to(headerBg, { opacity: 1, duration: 0.3, ease: 'power2.out' });
          gsap.to(headerBg, { borderBottomColor: 'oklch(0.30 0.015 260 / 0.5)', duration: 0.3, ease: 'power2.out' });
          gsap.to(header, { padding: '12px 32px', duration: 0.3, ease: 'power2.out' });
          gsap.to('.logo', { fontSize: '16px', duration: 0.3, ease: 'power2.out' });
        } else {
          gsap.set(headerBg, { opacity: 1 });
          gsap.set(header, { padding: '12px 32px' });
        }
      } else if (scrollY <= scrollThreshold && scrolledPast) {
        scrolledPast = false;
        if (!reduced) {
          gsap.to(headerBg, { opacity: 0, duration: 0.3, ease: 'power2.out' });
          gsap.to(headerBg, { borderBottomColor: 'oklch(0.30 0.015 260 / 0)', duration: 0.3, ease: 'power2.out' });
          gsap.to(header, { padding: '20px 32px', duration: 0.3, ease: 'power2.out' });
          gsap.to('.logo', { fontSize: '18px', duration: 0.3, ease: 'power2.out' });
        } else {
          gsap.set(headerBg, { opacity: 0 });
          gsap.set(header, { padding: '20px 32px' });
        }
      }

      /* Hide on scroll down, show on scroll up */
      if (delta < sensitivity) { lastScroll = scrollY; return; }

      if (direction === 1 && scrollY > scrollThreshold + 50 && !headerHidden) {
        headerHidden = true;
        if (!reduced) {
          gsap.to(header, { y: '-100%', duration: 0.3, ease: 'power2.out' });
        } else {
          gsap.set(header, { y: '-100%' });
        }
      } else if (direction === -1 && headerHidden) {
        headerHidden = false;
        if (!reduced) {
          gsap.to(header, { y: '0%', duration: 0.3, ease: 'power2.out' });
        } else {
          gsap.set(header, { y: '0%' });
        }
      }

      lastScroll = scrollY;
    },
  });

  /* ── Mobile Menu ── */
  var mobileOpen = false;

  function openMobile() {
    mobileOpen = true;
    hamburger.setAttribute('aria-expanded', 'true');
    mobileOverlay.setAttribute('aria-hidden', 'false');
    if (!reduced) {
      gsap.to(mobileOverlay, { opacity: 1, pointerEvents: 'auto', duration: 0.25, ease: 'power2.out' });
      gsap.to(mobileMenu, { y: 0, duration: 0.35, ease: 'power3.out' });
      /* Hamburger to X */
      gsap.to(hamburger.children[0], { y: 7, rotation: 45, duration: 0.25, ease: 'power2.out' });
      gsap.to(hamburger.children[1], { opacity: 0, duration: 0.15, ease: 'power2.out' });
      gsap.to(hamburger.children[2], { y: -7, rotation: -45, duration: 0.25, ease: 'power2.out' });
      /* Stagger links */
      gsap.from('.mobile-link, .mobile-cta', { opacity: 0, y: 10, duration: 0.3, stagger: 0.04, delay: 0.15, ease: 'power2.out' });
    } else {
      gsap.set(mobileOverlay, { opacity: 1, pointerEvents: 'auto' });
      gsap.set(mobileMenu, { y: 0 });
    }
  }

  function closeMobile() {
    mobileOpen = false;
    hamburger.setAttribute('aria-expanded', 'false');
    if (!reduced) {
      gsap.to(mobileOverlay, { opacity: 0, pointerEvents: 'none', duration: 0.2, ease: 'power2.in', onComplete: function () { mobileOverlay.setAttribute('aria-hidden', 'true'); } });
      gsap.to(mobileMenu, { y: '-100%', duration: 0.3, ease: 'power3.in' });
      /* X back to Hamburger */
      gsap.to(hamburger.children[0], { y: 0, rotation: 0, duration: 0.25, ease: 'power2.out' });
      gsap.to(hamburger.children[1], { opacity: 1, duration: 0.15, delay: 0.1, ease: 'power2.out' });
      gsap.to(hamburger.children[2], { y: 0, rotation: 0, duration: 0.25, ease: 'power2.out' });
    } else {
      gsap.set(mobileOverlay, { opacity: 0, pointerEvents: 'none' });
      gsap.set(mobileMenu, { y: '-100%' });
      mobileOverlay.setAttribute('aria-hidden', 'true');
    }
  }

  hamburger.addEventListener('click', function () { mobileOpen ? closeMobile() : openMobile(); });
  mobileOverlay.addEventListener('click', closeMobile);
  document.addEventListener('keydown', function (e) { if (e.key === 'Escape' && mobileOpen) closeMobile(); });

  /* ── Hover effects ── */
  if (!reduced) {
    /* Nav link hovers */
    navLinks.forEach(function (link) {
      link.addEventListener('mouseenter', function () {
        if (link.getAttribute('data-active') !== 'true') {
          gsap.to(link, { color: getComputedStyle(document.documentElement).getPropertyValue('--text').trim(), duration: 0.15, ease: 'power2.out' });
        }
      });
      link.addEventListener('mouseleave', function () {
        if (link.getAttribute('data-active') !== 'true') {
          gsap.to(link, { color: getComputedStyle(document.documentElement).getPropertyValue('--text-secondary').trim(), duration: 0.15, ease: 'power2.out' });
        }
      });
    });

    /* CTA hover */
    var cta = document.querySelector('.header-cta');
    if (cta) {
      cta.addEventListener('mouseenter', function () { gsap.to(cta, { backgroundColor: getComputedStyle(document.documentElement).getPropertyValue('--accent-hover').trim(), y: -1, duration: 0.15, ease: 'power2.out' }); });
      cta.addEventListener('mouseleave', function () { gsap.to(cta, { backgroundColor: getComputedStyle(document.documentElement).getPropertyValue('--accent').trim(), y: 0, duration: 0.15, ease: 'power2.out' }); });
      cta.addEventListener('mousedown', function () { gsap.to(cta, { scale: 0.97, duration: 0.08, ease: 'power2.out' }); });
      cta.addEventListener('mouseup', function () { gsap.to(cta, { scale: 1, duration: 0.12, ease: 'power2.out' }); });
    }

    /* Button hovers */
    document.querySelectorAll('.btn-primary').forEach(function (btn) {
      btn.addEventListener('mouseenter', function () { gsap.to(btn, { y: -2, boxShadow: '0 8px 30px oklch(0.65 0.19 145 / 0.25)', duration: 0.2, ease: 'power2.out' }); });
      btn.addEventListener('mouseleave', function () { gsap.to(btn, { y: 0, boxShadow: 'none', duration: 0.2, ease: 'power2.out' }); });
      btn.addEventListener('mousedown', function () { gsap.to(btn, { scale: 0.97, duration: 0.08 }); });
      btn.addEventListener('mouseup', function () { gsap.to(btn, { scale: 1, duration: 0.12 }); });
    });

    document.querySelectorAll('.btn-ghost').forEach(function (btn) {
      btn.addEventListener('mouseenter', function () { gsap.to(btn, { borderColor: getComputedStyle(document.documentElement).getPropertyValue('--text-secondary').trim(), y: -1, duration: 0.15, ease: 'power2.out' }); });
      btn.addEventListener('mouseleave', function () { gsap.to(btn, { borderColor: getComputedStyle(document.documentElement).getPropertyValue('--border').trim(), y: 0, duration: 0.15, ease: 'power2.out' }); });
    });

    /* Feature card hovers */
    UV.hoverLift('.feature-card', { y: -4, shadow: '0 12px 40px oklch(0 0 0 / 0.2)', restShadow: 'none' });

    /* Pricing card hovers */
    UV.hoverLift('.pricing-card', { y: -4, shadow: '0 12px 40px oklch(0 0 0 / 0.2)', restShadow: 'none' });

    /* Pricing button hovers */
    document.querySelectorAll('.pricing-btn').forEach(function (btn) {
      var isFeatured = btn.closest('.featured');
      btn.addEventListener('mouseenter', function () {
        gsap.to(btn, {
          backgroundColor: isFeatured ? getComputedStyle(document.documentElement).getPropertyValue('--accent-hover').trim() : getComputedStyle(document.documentElement).getPropertyValue('--accent').trim(),
          color: getComputedStyle(document.documentElement).getPropertyValue('--bg').trim(),
          borderColor: isFeatured ? getComputedStyle(document.documentElement).getPropertyValue('--accent-hover').trim() : getComputedStyle(document.documentElement).getPropertyValue('--accent').trim(),
          duration: 0.15, ease: 'power2.out',
        });
      });
      btn.addEventListener('mouseleave', function () {
        gsap.to(btn, {
          backgroundColor: isFeatured ? getComputedStyle(document.documentElement).getPropertyValue('--accent').trim() : getComputedStyle(document.documentElement).getPropertyValue('--surface-2').trim(),
          color: isFeatured ? getComputedStyle(document.documentElement).getPropertyValue('--bg').trim() : getComputedStyle(document.documentElement).getPropertyValue('--text').trim(),
          borderColor: isFeatured ? getComputedStyle(document.documentElement).getPropertyValue('--accent').trim() : getComputedStyle(document.documentElement).getPropertyValue('--border').trim(),
          duration: 0.15, ease: 'power2.out',
        });
      });
    });

    /* Form submit hover */
    var formSubmit = document.querySelector('.form-submit');
    if (formSubmit) {
      formSubmit.addEventListener('mouseenter', function () { gsap.to(formSubmit, { backgroundColor: getComputedStyle(document.documentElement).getPropertyValue('--accent-hover').trim(), y: -1, duration: 0.15, ease: 'power2.out' }); });
      formSubmit.addEventListener('mouseleave', function () { gsap.to(formSubmit, { backgroundColor: getComputedStyle(document.documentElement).getPropertyValue('--accent').trim(), y: 0, duration: 0.15, ease: 'power2.out' }); });
    }

    /* Mobile link hovers */
    mobileLinks.forEach(function (link) {
      link.addEventListener('mouseenter', function () { gsap.to(link, { backgroundColor: getComputedStyle(document.documentElement).getPropertyValue('--surface-2').trim(), duration: 0.12, ease: 'power2.out' }); });
      link.addEventListener('mouseleave', function () {
        var isActive = link.getAttribute('data-active') === 'true';
        gsap.to(link, { backgroundColor: isActive ? 'oklch(0.65 0.19 145 / 0.08)' : 'transparent', duration: 0.12, ease: 'power2.out' });
      });
    });
  }

  /* ── Scroll Reveals ── */
  if (!reduced) {
    document.querySelectorAll('.reveal').forEach(function (el) {
      UV.scrollReveal(el, { y: 40, duration: 0.7, ease: 'power3.out', start: 'top 88%' });
    });

    /* Header entrance */
    gsap.from(header, { y: -30, opacity: 0, duration: 0.5, ease: 'power3.out', delay: 0.1 });
  } else {
    gsap.set('.reveal', { opacity: 1, y: 0 });
  }

  /* ── Resize handler for indicator ── */
  var resizeTimer;
  window.addEventListener('resize', function () {
    clearTimeout(resizeTimer);
    resizeTimer = setTimeout(function () {
      var active = document.querySelector('.nav-link[data-active="true"]');
      if (active) positionIndicator(active, false);
    }, 100);
  });

  UV.addControlPanel();
})();
</script>
</body>
</html>
